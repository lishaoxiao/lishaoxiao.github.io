<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"breakdawncoder.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="君子终日乾乾,夕惕若厉,无咎">
<meta property="og:type" content="website">
<meta property="og:title" content="破晓的知识屋">
<meta property="og:url" content="http://breakdawncoder.com/page/28/index.html">
<meta property="og:site_name" content="破晓的知识屋">
<meta property="og:description" content="君子终日乾乾,夕惕若厉,无咎">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="breakDawn">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://breakdawncoder.com/page/28/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>破晓的知识屋</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">破晓的知识屋</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>知识索引地图</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>最新发布</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" class="post-title-link" itemprop="url">jvm垃圾收集器演进和原理详解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-31 07:52:57" itemprop="dateCreated datePublished" datetime="2022-05-31T07:52:57+08:00">2022-05-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-17 22:42:08" itemprop="dateModified" datetime="2022-08-17T22:42:08+08:00">2022-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">java高级原理</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">jvm原理</span></a>
                </span>
            </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" class="post-meta-item leancloud_visitors" data-flag-title="jvm垃圾收集器演进和原理详解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>重读了一遍《深入理解java虚拟机》， 发现第一遍读垃圾回收器相关的进化历程时，没有细细去研究各自的区别，觉得太多了记不住。<br>
实际上理解了这个进化过程，这对于我们理解回收器是有很大帮助的。</p>
<p><strong>看来经典书籍要多读多总结，是有道理的。</strong><br>
于是在阅读这个章节时，画了一张大的演化图，方便理解变化和区别。</p>
 <div class="toc">
<!-- toc -->
<ul>
<li><a href="#serial-old-he-serial-dan-xian-cheng-shou-ji-qi">Serial Old和Serial（单线程收集器）</a>
<ul>
<li><a href="#serial-lei-xing-de-shou-ji-qi-bei-tao-tai-liao-ma-ta-huan-you-you-shi-ma">Serial类型的收集器被淘汰了吗？它还有优势吗？</a></li>
<li><a href="#q-shi-me-shi-hou-ke-yi-hong-fa-stopworld-an-quan-dian-gc-shi-jian-dian">Q: 什么时候可以触发stopWorld？（安全点,GC时间点）</a></li>
<li><a href="#4-ge-an-quan-dian-de-she-ji-si-lu-shi-shi-me">4个安全点的设计思路是什么？</a></li>
<li><a href="#q-he-an-quan-dian-dui-ying-de-an-quan-qu-you-shi-shi-me">Q: 和安全点对应的安全区又是什么？</a></li>
</ul>
</li>
<li><a href="#parold-he-parnew-shou-ji-qi-duo-xian-cheng-shou-ji-qi">ParOld和ParNew收集器（多线程收集器）</a></li>
<li><a href="#parallel-scavenge-shou-ji-qi-dui-hui-shou-shi-jian-de-you-hua-kai-duan">Parallel Scavenge收集器（对回收时间的优化开端）</a>
<ul>
<li><a href="#ru-he-li-jie-tun-tu-liang">如何理解吞吐量</a></li>
<li><a href="#parallel-savenge-shou-ji-qi-shi-ru-he-kong-zhi-tun-tu-liang-de">Parallel Savenge收集器是如何控制吞吐量的</a></li>
<li><a href="#dai-jie-shi-shi-me">代价是什么？</a></li>
</ul>
</li>
<li><a href="#cms-shou-ji-qi-concurrent-mark-sweep-bing-fa-shou-ji-gai-nian-de-chong-da-ti-chu">CMS收集器（Concurrent Mark Sweep, 并发收集概念的重大提出）</a>
<ul>
<li><a href="#cms-jie-duan-1-chu-shi-biao-ji">CMS阶段1：初始标记</a>
<ul>
<li><a href="#gcroot-de-xuan-qu-yuan-ze-shi-shi-me">GCRoot的选取原则是什么？</a></li>
<li><a href="#parnew-nian-qing-dai-shou-ji-shi-xu-yao-bian-li-cms-lao-nian-dai-de-suo-you-gcroot-ma">ParNew年轻代收集时，需要遍历CMS老年代的所有GCROOT吗？</a></li>
</ul>
</li>
<li><a href="#cms-jie-duan-2-bing-fa-biao-ji">CMS阶段2：并发标记</a>
<ul>
<li><a href="#bing-fa-biao-ji-yong-liao-zen-yang-de-suan-fa-qu-biao-ji-de">并发标记用了怎样的算法去标记的？</a></li>
<li><a href="#bing-fa-biao-ji-shi-ru-he-ji-lu-yin-yong-bian-geng">并发标记时如何记录引用变更？</a></li>
<li><a href="#shi-me-shi-kua-dai-yin-yong">什么是跨代引用？</a></li>
<li><a href="#ru-he-bi-mian-kua-dai-yin-yong-bao-zhang-bing-fa-biao-ji-an-quan-xie-ping-zhang">如何避免跨代引用，保障并发标记安全（写屏障</a></li>
</ul>
</li>
<li><a href="#cms-jie-duan-3-chong-xin-biao-ji">CMS阶段3：重新标记</a></li>
<li><a href="#cms-jie-duan-4-bing-fa-qing-chu">CMS阶段4：并发清除</a>
<ul>
<li><a href="#wei-shi-me-shi-yao-yong-biao-ji-qing-chu-zhe-me-que-dian-da-de-fang-fa">为什么是要用“标记-清除”这么缺点大的方法？</a></li>
<li><a href="#cms-ru-he-jie-jue-biao-ji-qing-chu-hou-sui-pian-guo-duo-wu-fa-fang-ru-xin-dui-xiang-de-qing-kuang">CMS如何解决标记-清除后碎片过多，无法放入新对象的情况？</a></li>
<li><a href="#bing-fa-hui-shou-guo-cheng-zhong-ru-guo-gong-zuo-xian-cheng-tu-ran-sheng-cheng-da-liang-xin-la-ji-dao-zhi-nei-cun-bu-zu-zen-me-ban">并发回收过程中，如果工作线程突然生成大量新垃圾，导致内存不足怎么办？</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#hun-he-shi-yong-shou-ji-qi-cms-parnew">混合使用收集器（CMS+parNew)</a>
<ul>
<li><a href="#q-fullgc-he-monorgc-fen-bie-fa-sheng-zai-lao-nian-dai-qu-huan-shi-xin-sheng-dai-qu">Q： fullGC和monorGC分别发生在老年代区还是新生代区？</a></li>
<li><a href="#q-xin-sheng-dui-xiang-shi-me-shi-hou-ke-yi-chang-shi-jin-ru-lao-nian-dai">Q: 新生对象什么时候可以尝试进入老年代？</a></li>
<li><a href="#q-eden-nian-qing-dai-qu-he-survivor-qu-de-bi-li-wei-shi-me-shi-8-bi-1-bi-1">Q: Eden年轻代区和survivor区的比例为什么是8比1比1</a></li>
<li><a href="#q-jiang-yi-xia-lao-nian-dai-de-dan-bao-ce-lue-shi-zuo-shi-me-de">Q: 讲一下老年代的担保策略是做什么的？</a></li>
<li><a href="#xin-sheng-dai-lao-nian-dai-de-jiao-hu-liu-cheng">新生代、老年代的交互流程：</a></li>
</ul>
</li>
<li><a href="#g1-shou-ji-qi-hui-shou-gai-nian-fa-sheng-zhu-duo-bian-ge-mu-qian-zui-xian-jin-shou-ji-qi">G1收集器（回收概念发生诸多变革，目前最先进收集器）</a>
<ul>
<li><a href="#g1-xiang-bi-cms-de-chong-da-sheng-ji-dian">G1相比CMS的重大升级点：</a></li>
<li><a href="#g1-li-de-region-zhi-jian-du-yao-tong-guo-bfs-bian-li-ma">G1里的region之间都要通过BFS遍历吗？</a></li>
</ul>
</li>
<li><a href="#wan-zheng-da-tu">完整大图</a></li>
<li><a href="#qi-ta-wen-ti">其他问题</a>
<ul>
<li><a href="#q-fang-fa-qu-li-de-class-dui-xiang-ji-lei-dui-xiang-shi-me-shi-hou-hui-bei-hui-shou">Q： 方法区里的class对象（即类对象）什么时候会被回收？</a></li>
<li><a href="#q-shi-me-shi-hou-hui-diao-yong-dui-xiang-de-finalized-fang-fa">Q： 什么时候会调用对象的finalized方法</a></li>
</ul>
</li>
</ul>
<!-- tocstop -->
</div> 
<p>[toc]</p>
<hr>
<h1><span id="serial-old-he-serial-dan-xian-cheng-shou-ji-qi">Serial Old和Serial（单线程收集器）</span><a href="#serial-old-he-serial-dan-xian-cheng-shou-ji-qi" class="header-anchor">#</a></h1>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652830465493764891.png" alt="image.png"></p>
<ul>
<li>Serial Old指的是老年代收集器，使用标记-整理清理垃圾</li>
<li>Serial指的是年轻代收集器，使用复制算法清理垃圾。</li>
</ul>
<p>Serial就是单线程的意思，不仅代表它使用单线程做回收，<strong>更意味着他会进行stop world暂停工作线程</strong></p>
<h2><span id="serial-lei-xing-de-shou-ji-qi-bei-tao-tai-liao-ma-ta-huan-you-you-shi-ma">Serial类型的收集器被淘汰了吗？它还有优势吗？</span><a href="#serial-lei-xing-de-shou-ji-qi-bei-tao-tai-liao-ma-ta-huan-you-you-shi-ma" class="header-anchor">#</a></h2>
<p>没有，它是client模式下默认的收集器。<br>
优势在于，它具有<strong>最高的单线程收集效率</strong><br>
而client模式一般不会用于处理大量请求，因此非常适合serial。</p>
<p>除了client，书上还提了另外2个功能：</p>
<ul>
<li>Serial Old收集器会作为CMS的后备预案</li>
<li>与Parallel Scavenge搭配使用</li>
</ul>
<h2><span id="q-shi-me-shi-hou-ke-yi-hong-fa-stopworld-an-quan-dian-gc-shi-jian-dian">Q: 什么时候可以触发stopWorld？（安全点,GC时间点）</span><a href="#q-shi-me-shi-hou-ke-yi-hong-fa-stopworld-an-quan-dian-gc-shi-jian-dian" class="header-anchor">#</a></h2>
<ul>
<li>方法返回之前</li>
<li>调用某个方法之后</li>
<li>抛出异常的位置</li>
<li>循环的末尾</li>
</ul>
<h2><span id="4-ge-an-quan-dian-de-she-ji-si-lu-shi-shi-me">4个安全点的设计思路是什么？</span><a href="#4-ge-an-quan-dian-de-she-ji-si-lu-shi-shi-me" class="header-anchor">#</a></h2>
<p>当垃圾收集需要中断用户线程的时候, 不直接对线程操作,而是设置一个标志位.</p>
<p>各个用户线程执行过程中会轮询这个标志位的状态.</p>
<p>一旦用户线程轮询到标志位被设置过, 就在最近的安全点主动挂起,所有用户线程都挂起, 垃圾收集真正进行</p>
<h2><span id="q-he-an-quan-dian-dui-ying-de-an-quan-qu-you-shi-shi-me">Q: 和安全点对应的安全区又是什么？</span><a href="#q-he-an-quan-dian-dui-ying-de-an-quan-qu-you-shi-shi-me" class="header-anchor">#</a></h2>
<p>A:<br>
程序可能因为blocked或者sleep，无法到达安全点。<br>
这是可以设置一个安全区域，这个安全区域对应的代码段，引用关系不会变。JVM检测到程序在安全区域时，可以进行GC。<br>
程序运行出安全区域时，检测GC没有结束的话，自我中断。</p>
<h1><span id="parold-he-parnew-shou-ji-qi-duo-xian-cheng-shou-ji-qi">ParOld和ParNew收集器（多线程收集器）</span><a href="#parold-he-parnew-shou-ji-qi-duo-xian-cheng-shou-ji-qi" class="header-anchor">#</a></h1>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652830556269329780.png" alt="image.png"><br>
Par收集器就是Serial收集器的多线程版本，其他策略则都与serial一致。</p>
<p><strong>注意， 虽然是多线程收集器，但是用户的工作线程仍然是暂停状态（为了防止收集过程中发生变化导致回收错误</strong></p>
<p>ParNew收集器可以与CMS收集器配合使用。</p>
<h1><span id="parallel-scavenge-shou-ji-qi-dui-hui-shou-shi-jian-de-you-hua-kai-duan">Parallel Scavenge收集器（对回收时间的优化开端）</span><a href="#parallel-scavenge-shou-ji-qi-dui-hui-shou-shi-jian-de-you-hua-kai-duan" class="header-anchor">#</a></h1>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652830818239387635.png" alt="image.png"></p>
<p>Parallel Scavenge 收集器是一个<strong>新生代收集器</strong>，他不包含老年代。<br>
前两代的收集器，默认必须收集完成，对工作线程影响巨大。<br>
<strong>这是首次开始关注回收时间对工作线程影响的一代收集器，成为了垃圾收集器升级优化的一个重要开端。</strong></p>
<h2><span id="ru-he-li-jie-tun-tu-liang">如何理解吞吐量</span><a href="#ru-he-li-jie-tun-tu-liang" class="header-anchor">#</a></h2>
<p>虚拟机运行了100分钟， 垃圾收集花掉了一分钟，那么吞吐量就是100%。</p>
<h2><span id="parallel-savenge-shou-ji-qi-shi-ru-he-kong-zhi-tun-tu-liang-de">Parallel Savenge收集器是如何控制吞吐量的</span><a href="#parallel-savenge-shou-ji-qi-shi-ru-he-kong-zhi-tun-tu-liang-de" class="header-anchor">#</a></h2>
<p>通过控制最大垃圾收集停顿时间的-XX:MaxGCPauseMillis参数，以及直接设置吞吐量大小的-XX:GCTimeRatio参数。<br>
通过修改这2个参数，jvm可以计算一个合适的新生代空间，<strong>空间越小，回收时间越快</strong>，他的停顿时间便能够满足吞吐量要求。</p>
<ul>
<li>换句话说，本质上就是通过你设定的吞吐量或者暂停时间，自适应地得到一个新生代空间大小而已。</li>
</ul>
<h2><span id="dai-jie-shi-shi-me">代价是什么？</span><a href="#dai-jie-shi-shi-me" class="header-anchor">#</a></h2>
<p>新生代越小，那么意味着老年代的空间就越大。</p>
<p>虽然能做到基本不停顿或者停顿间隔很小，但这样就会<strong>导致新生代频繁发生minorGc，并不断将垃圾扔给老年代收集器</strong>，容易在下一个时间段触发更多的fullGc。<br>
因此这个策略仅仅是饮鸠止渴，无法真正解决问题。</p>
<ul>
<li>注意，这里ParaleelSavenge的吞吐量，指的就是新生代的吞吐量，不代表fullGc占用的时间。</li>
</ul>
<h1><span id="cms-shou-ji-qi-concurrent-mark-sweep-bing-fa-shou-ji-gai-nian-de-chong-da-ti-chu">CMS收集器（Concurrent Mark Sweep, 并发收集概念的重大提出）</span><a href="#cms-shou-ji-qi-concurrent-mark-sweep-bing-fa-shou-ji-gai-nian-de-chong-da-ti-chu" class="header-anchor">#</a></h1>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652831748531127900.png" alt="image.png"><br>
而从这一代开始，jvm终于想到了可以如何尽可能少地暂停工作线程的方式，提出了并发收集的概念。</p>
<p>首先明确并行收集和并发收集的区别</p>
<ul>
<li>并行收集：指用多线程来收集，但是工作线程仍然暂停</li>
<li>并发收集：收集线程和工作线程允许不冲突地交替并发执行</li>
</ul>
<hr>
<p>CMS是老年代收集器，必须和parNew等结合使用<br>
使用的是回收-清除算法，有较多碎片。</p>
<hr>
<h2><span id="cms-jie-duan-1-chu-shi-biao-ji">CMS阶段1：初始标记</span><a href="#cms-jie-duan-1-chu-shi-biao-ji" class="header-anchor">#</a></h2>
<p>初始标记就是对GCRoot对象进行标记，以GCroot作为起点。<br>
GCRoot的那4种经典对象，瞄一眼就好</p>
<blockquote>
<blockquote>
<p>虚拟机栈（栈帧中的本地变量表）中的引用的对象<br>
方法区中的类静态属性引用的对象<br>
方法区中的常量引用的对象<br>
本地方法栈中JNI（Native方法）的引用对象</p>
</blockquote>
</blockquote>
<h3><span id="gcroot-de-xuan-qu-yuan-ze-shi-shi-me">GCRoot的选取原则是什么？</span><a href="#gcroot-de-xuan-qu-yuan-ze-shi-shi-me" class="header-anchor">#</a></h3>
<p>这个问题很有意思，为什么要这样选择？如果能理解这个问题，也就不需要去死记硬背上面的内容了。</p>
<p>首先，可能有很多个方法栈，每个栈都有一个栈顶的栈帧，说明这是<strong>正在执行</strong>的方法， 在此刻是一定不需要被回收的！<br>
因此选取了2种栈的栈顶作为GCRoot选取位置。</p>
<p>而方法区中的对象一般不会被释放，长期持有，因此方法区中的静态引用对象、常量引用对象也是稳定能被使用的。</p>
<h3><span id="parnew-nian-qing-dai-shou-ji-shi-xu-yao-bian-li-cms-lao-nian-dai-de-suo-you-gcroot-ma">ParNew年轻代收集时，需要遍历CMS老年代的所有GCROOT吗？</span><a href="#parnew-nian-qing-dai-shou-ji-shi-xu-yao-bian-li-cms-lao-nian-dai-de-suo-you-gcroot-ma" class="header-anchor">#</a></h3>
<p>CMS是老年代的收集器， 经常要和年轻代收集器例如ParDoNew配合。（因此上面4个阶段都是处理老年代回收的，年轻代内存占用小，不需要那么麻烦）<br>
那么当ParNew年轻代回收时，是否也要把老年代的所有GCROOT都算上？后面全部遍历的话，时间是不是太久了？</p>
<p>因此才有了<strong>卡表</strong>的出现！<br>
卡表作为一个比特位的集合，每一个比特位可以用来表示年老代的某一区域中的所有对象是否持有新生代对象的引用。<br>
这样新生代在GC时，可以先扫描卡表，只有卡表的标记位为1时，才需要扫描给定区域的年老代对象。而卡表位为0的所在区域的年老代对象，一定不包含有对新生代的引用，从而提高了年轻代的回收效率！</p>
<h2><span id="cms-jie-duan-2-bing-fa-biao-ji">CMS阶段2：并发标记</span><a href="#cms-jie-duan-2-bing-fa-biao-ji" class="header-anchor">#</a></h2>
<p>这时候不会做stopWorld。标记线程和工作线程同时进行。</p>
<h3><span id="bing-fa-biao-ji-yong-liao-zen-yang-de-suan-fa-qu-biao-ji-de">并发标记用了怎样的算法去标记的？</span><a href="#bing-fa-biao-ji-yong-liao-zen-yang-de-suan-fa-qu-biao-ji-de" class="header-anchor">#</a></h3>
<p>当通过gcRoot做并发标记的时候，是一种bfs搜索。<br>
有一种三色标记法可以作为参考：</p>
<ul>
<li>白色：还没有搜索过的对象（白色对象会被当成垃圾对象）</li>
<li>灰色：正在搜索的对象</li>
<li>黑色：搜索完成的对象（不会当成垃圾对象，不会被GC）</li>
</ul>
<ol>
<li>默认起始是白色节点。</li>
<li>是每次标记当前搜索节点的引用节点（类似于相邻点）为灰色，入队列。</li>
<li>当相邻点全部入队列完成，则把当前搜索节点置黑色。然后根据队列取队头继续处理灰色节点</li>
</ol>
<p>是不是和数据结构的bfs非常类似？</p>
<h3><span id="bing-fa-biao-ji-shi-ru-he-ji-lu-yin-yong-bian-geng">并发标记时如何记录引用变更？</span><a href="#bing-fa-biao-ji-shi-ru-he-ji-lu-yin-yong-bian-geng" class="header-anchor">#</a></h3>
<p>对于CMS在并发标记时的引用变更，书上没有细讲，只是一笔带过，个人认为错失了许多精华。<br>
有些类似的概念确实有在G1收集器里简单阐述，但是很难让人马上和CMS中对应起来。个人认为应该在CMS的章节就提前给出。<br>
下面以我自己的理解，给出对CMS并发标记过程的理解。</p>
<h3><span id="shi-me-shi-kua-dai-yin-yong">什么是跨代引用？</span><a href="#shi-me-shi-kua-dai-yin-yong" class="header-anchor">#</a></h3>
<p>首先基于上面提到的三色标记，给出跨代引用问题的例子和解释。<br>
假设此时正处于并发标记中，且正好在bfs处理A这个节点。<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652881948481607802.png" alt="image.png"><br>
这时取消了A对B的引用，以及B对C的引用，同时新增了A对C的引用，变成如图所示：<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652881964705631549.png" alt="image.png"><br>
那么当继续搜索入队的B时，将无法再走到C，C永远被标记为白色，就会出现严重的后果：误杀了C，从而导致A对C调用时报错！<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652882075127270117.png" alt="image.png"></p>
<h3><span id="ru-he-bi-mian-kua-dai-yin-yong-bao-zhang-bing-fa-biao-ji-an-quan-xie-ping-zhang">如何避免跨代引用，保障并发标记安全（写屏障</span><a href="#ru-he-bi-mian-kua-dai-yin-yong-bao-zhang-bing-fa-biao-ji-an-quan-xie-ping-zhang" class="header-anchor">#</a></h3>
<p>CMS引入了一个叫“写屏障”的东西，写屏障工作示意如下：<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652882482680209447.png" alt="image.png"><br>
而标记栈就会在后面的“重新标记”阶段用上。</p>
<h2><span id="cms-jie-duan-3-chong-xin-biao-ji">CMS阶段3：重新标记</span><a href="#cms-jie-duan-3-chong-xin-biao-ji" class="header-anchor">#</a></h2>
<p>前面的写屏障为我们把为标记却被新增引用的对象放入了栈中。<br>
此时会进入StopWorld，我们可以从栈中取出标记对象进行“重新标记”了。<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652882580296867154.png" alt="image.png"></p>
<h2><span id="cms-jie-duan-4-bing-fa-qing-chu">CMS阶段4：并发清除</span><a href="#cms-jie-duan-4-bing-fa-qing-chu" class="header-anchor">#</a></h2>
<p>最后清除的时候，选用了“标记-清除”算法，来进行回收和处理。<br>
同时采用并发机制，避免影响了工作线程。<br>
“标记-清除”算法的示意图如下：<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652883305646281243.png" alt="image.png"></p>
<h3><span id="wei-shi-me-shi-yao-yong-biao-ji-qing-chu-zhe-me-que-dian-da-de-fang-fa">为什么是要用“标记-清除”这么缺点大的方法？</span><a href="#wei-shi-me-shi-yao-yong-biao-ji-qing-chu-zhe-me-que-dian-da-de-fang-fa" class="header-anchor">#</a></h3>
<p>因为老年代算法，要么是标记-整理，要么是标记-清除<br>
<strong>而标记-整理算法是无法和工作线程并发执行的</strong><br>
所以才选择标记-清除，这也导致了碎片带来的隐患</p>
<h3><span id="cms-ru-he-jie-jue-biao-ji-qing-chu-hou-sui-pian-guo-duo-wu-fa-fang-ru-xin-dui-xiang-de-qing-kuang">CMS如何解决标记-清除后碎片过多，无法放入新对象的情况？</span><a href="#cms-ru-he-jie-jue-biao-ji-qing-chu-hou-sui-pian-guo-duo-wu-fa-fang-ru-xin-dui-xiang-de-qing-kuang" class="header-anchor">#</a></h3>
<p>当因为碎片过多，无法放入新对象时，会触发fullGC，此时会做1次内存碎片的合并（整理）操作</p>
<p>还提供了一个参数，设置多少次非合并的fullGC时，可做一次碎片的集中合并和整理。</p>
<h3><span id="bing-fa-hui-shou-guo-cheng-zhong-ru-guo-gong-zuo-xian-cheng-tu-ran-sheng-cheng-da-liang-xin-la-ji-dao-zhi-nei-cun-bu-zu-zen-me-ban">并发回收过程中，如果工作线程突然生成大量新垃圾，导致内存不足怎么办？</span><a href="#bing-fa-hui-shou-guo-cheng-zhong-ru-guo-gong-zuo-xian-cheng-tu-ran-sheng-cheng-da-liang-xin-la-ji-dao-zhi-nei-cun-bu-zu-zen-me-ban" class="header-anchor">#</a></h3>
<p>因为并发回收时工作线程还在运行，可能产生大量的对象，导致老年代被填满。<br>
这时候CMS会触发一个“Concurrent Mod Failure”机制，并紧急替换为SerialOld收集进行stopWorld回收。<br>
因此，<strong>CMS可能存在临时退化为SerialOld的可能</strong></p>
<h1><span id="hun-he-shi-yong-shou-ji-qi-cms-parnew">混合使用收集器（CMS+parNew)</span><a href="#hun-he-shi-yong-shou-ji-qi-cms-parnew" class="header-anchor">#</a></h1>
<p>G1收集器出现之前， 都是老年代和年轻代一起使用， 例如CMS+parNew的组合</p>
<h2><span id="q-fullgc-he-monorgc-fen-bie-fa-sheng-zai-lao-nian-dai-qu-huan-shi-xin-sheng-dai-qu">Q： fullGC和monorGC分别发生在老年代区还是新生代区？</span><a href="#q-fullgc-he-monorgc-fen-bie-fa-sheng-zai-lao-nian-dai-qu-huan-shi-xin-sheng-dai-qu" class="header-anchor">#</a></h2>
<p>A:</p>
<p>fullGC只会发生在老年代区。 会用上CMS那堆很复杂的操作</p>
<p>相反，minorGC一般发送在新生代区，直接用parNew那种复制算法，很快。</p>
<h2><span id="q-xin-sheng-dui-xiang-shi-me-shi-hou-ke-yi-chang-shi-jin-ru-lao-nian-dai">Q: 新生对象什么时候可以尝试进入老年代？</span><a href="#q-xin-sheng-dui-xiang-shi-me-shi-hou-ke-yi-chang-shi-jin-ru-lao-nian-dai" class="header-anchor">#</a></h2>
<ol>
<li>
<p>发生minorGC后， E区和survivor区都放不下了</p>
</li>
<li>
<p>在survivor区待的时间过长，gc分代年龄超过阈值</p>
</li>
<li>
<p>该GC分代年龄对象总和大于等于s区的一半</p>
</li>
<li>
<p>新生对象的大小大于某个阈值</p>
</li>
</ol>
<h2><span id="q-eden-nian-qing-dai-qu-he-survivor-qu-de-bi-li-wei-shi-me-shi-8-bi-1-bi-1">Q: Eden年轻代区和survivor区的比例为什么是8比1比1</span><a href="#q-eden-nian-qing-dai-qu-he-survivor-qu-de-bi-li-wei-shi-me-shi-8-bi-1-bi-1" class="header-anchor">#</a></h2>
<p>A:</p>
<p>正常预留10%内存空间， 大于90%进行minorGC<br>
但为了复制算法需要， 得有这10%的复制</p>
<p>且有-XX:SurvivorRatio=8 这个参数值可以修改</p>
<h2><span id="q-jiang-yi-xia-lao-nian-dai-de-dan-bao-ce-lue-shi-zuo-shi-me-de">Q:  讲一下老年代的担保策略是做什么的？</span><a href="#q-jiang-yi-xia-lao-nian-dai-de-dan-bao-ce-lue-shi-zuo-shi-me-de" class="header-anchor">#</a></h2>
<p>用于确认此时到底是做minorGC还是做fullGc。</p>
<ol>
<li>在发生Minor GC之前，虚拟机会先检查老年代最大可用的连续空间是否大于新生代所有对象总空间</li>
<li>如果这个条件成立，那么Minor GC可以确保是安全的。</li>
<li>如果不成立，则虚拟机会查看HandlePromotionFailure设置值是否允许担保失败。</li>
<li>如果允许，那么会继续检查老年代最大可用的连续空间是否大于历次晋升到老年代对象的平均大小</li>
<li>如果大于平均大小，将尝试着进行一次Minor GC，尽管这次Minor GC是有风险的，有可能把老年代搞满（这时候还没有fullGC！）；</li>
<li>如果小于，或者HandlePromotionFailure设置不允许冒险，那这时也要改为进行一次Full GC即全量GC，而不是minor小gc。</li>
</ol>
<p>换言之， 要么选择minorGc，要么选择fullGc， 感觉有风险时，就fullGc。</p>
<h2><span id="xin-sheng-dai-lao-nian-dai-de-jiao-hu-liu-cheng">新生代、老年代的交互流程：</span><a href="#xin-sheng-dai-lao-nian-dai-de-jiao-hu-liu-cheng" class="header-anchor">#</a></h2>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1660746972644.png" alt="1660746972644"></p>
<h1><span id="g1-shou-ji-qi-hui-shou-gai-nian-fa-sheng-zhu-duo-bian-ge-mu-qian-zui-xian-jin-shou-ji-qi">G1收集器（回收概念发生诸多变革，目前最先进收集器）</span><a href="#g1-shou-ji-qi-hui-shou-gai-nian-fa-sheng-zhu-duo-bian-ge-mu-qian-zui-xian-jin-shou-ji-qi" class="header-anchor">#</a></h1>
<p><img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652884348846944605.png" alt="image.png"></p>
<p>G1收集器，书上感觉并没有讲得特别深，很多概念、区别都没讲好，个人认为是种遗憾，因此我在透彻学习G1之前，我也只能简单写写了。</p>
<h2><span id="g1-xiang-bi-cms-de-chong-da-sheng-ji-dian">G1相比CMS的重大升级点：</span><a href="#g1-xiang-bi-cms-de-chong-da-sheng-ji-dian" class="header-anchor">#</a></h2>
<ol>
<li><strong>回收范围不同</strong>。 CMS是老年代收集器，必须和parNew等结合使用。  G1则可以同时管理老年代和年轻代。</li>
<li><strong>停顿目标不同</strong>。 CMS会让停顿时间尽可能小， G1则建立了可预测的时间模型。</li>
<li><strong>清理方式不同</strong>。 CMS是标记-清除，  G1是标记-整理，碎片大大减少。</li>
<li><strong>G1支持筛选回收</strong> G1可以根据每个region的价值进行回收，CMS则不行。</li>
<li><strong>并发标记后的最终标记处理方式不同</strong><br>
这个标记方式的区别讲述起来有点抽象，简而言之就是：</li>
</ol>
<ul>
<li>CMS是希望记录所有新增的引用，并重新做好多次BFS，保证没有疏漏，代价非常大。</li>
<li>G1则是只更新o = null这种删除引用的情况。对于新增的引用，直接认为那个对象不需要杀。<br>
换句话说，<strong>CMS更严谨，做细致的重新检查。 而G1为了性能，会漏掉一些本该被回收的对象，但是无关大雅，大不了就下次再回收</strong>。</li>
</ul>
<h2><span id="g1-li-de-region-zhi-jian-du-yao-tong-guo-bfs-bian-li-ma">G1里的region之间都要通过BFS遍历吗？</span><a href="#g1-li-de-region-zhi-jian-du-yao-tong-guo-bfs-bian-li-ma" class="header-anchor">#</a></h2>
<p>这个问题，和之前CMS中回收年轻代时， 是否要走一遍全量的老年代是一个道理。</p>
<p>G1里用的是一个RememberSet来避免全region扫描的。<br>
每个G1的region都有一个<strong>记忆集(Rset)</strong><br>
记忆集会记录下当前这个region中的对象被哪些对象所引用。<br>
例如，region2中的两个对象分别被region1中的对象和region3中的对象所引用，那么，region2的记忆集记录的就是region1和region3中的引用region2的对象的引用。</p>
<p>这样一来在回收region2的时候，就不用扫描全部的region了，只需要访问记忆集，就知道当前region2里面的对象被哪些对象所引用，判断其是不是存活对象。</p>
<p><strong>简单来说，就是标记我这个region被哪些region引用，简化扫描，避免不必要的检索。</strong></p>
<hr>
<p>但是书上提到了一句话（P85)：</p>
<blockquote>
<blockquote>
<p>“通过cardTable卡表把相关引用信息记录到被引用对象所属的region的rememberedSet之中”</p>
</blockquote>
</blockquote>
<p>这里我就点没看懂，卡表不是老年代对年轻代的引用么，为什么G1里也有？不是用了记忆集吗？不解，等以后有解答了，再来修改这里的内容。</p>
<hr>
<p>Q: G1里的minorGc、 majorGc、mixedGc、fullGc的区别？</p>
<p>A:</p>
<ul>
<li>minorGc也就是youngGc。工作流程很简单：线程跑，然后就进行青年代Region的回收，把需要回收的YoungRegion，放入YoungCSet中，在YGC阶段就进行对年轻代CSet中的Region进行回收。因为大部分都是垃圾，且用了复制回收算法，基本只需要较短时间的STW就能完全回收了。 这里不会触发</li>
<li>MixedGc等于年轻代+部分老年代gc。当老年代垃圾达到一个阀值的时候，会触发，这里就会用到G1里的并发标记、最终标记、筛选回收等操作。但不会针对所有老年代，只筛选需要处理的老年代。</li>
<li>FullGc，等于整个堆空间的清理。 当新对象进入老年代时空间不足， G1便会触发担保机制，执行一次STW（stopWorld)式的、单线程的Full GC。Full GC会对整堆做标记清除和压缩，最后将只包含纯粹的存活对象。 注意这时候不会用到并发之类的，直接暂停了。</li>
</ul>
<h1><span id="wan-zheng-da-tu">完整大图</span><a href="#wan-zheng-da-tu" class="header-anchor">#</a></h1>
<p>关于垃圾收集，书上倾向于先将一些基本概念或者基本回收思路，再讲发展流程，同时对G1缺少更细致的解释，这就容易混杂起来，导致垃圾收集器的进化那一章节看得很迷。</p>
<p>后面找到了一本书，叫做《The Garbage Collection Handbook》，已经收藏，有时间的话可以看看，据说对G1做了非常细致的讲解<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/1652885621080294993.png" alt="image.png"></p>
<p>最后送上完整大图：<br>
<img src="/images/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/5d139636e4b065dc2c6b9a50.png" alt="垃圾收集器大图"></p>
<h1><span id="qi-ta-wen-ti">其他问题</span><a href="#qi-ta-wen-ti" class="header-anchor">#</a></h1>
<h2><span id="q-fang-fa-qu-li-de-class-dui-xiang-ji-lei-dui-xiang-shi-me-shi-hou-hui-bei-hui-shou">Q： 方法区里的class对象（即类对象）什么时候会被回收？</span><a href="#q-fang-fa-qu-li-de-class-dui-xiang-ji-lei-dui-xiang-shi-me-shi-hou-hui-bei-hui-shou" class="header-anchor">#</a></h2>
<p>A： 所有实例都被回收、对应classLoader也被回收、class对象不会再被引用或者反射（这个咋确定？当初书里看到的，没懂）</p>
<h2><span id="q-shi-me-shi-hou-hui-diao-yong-dui-xiang-de-finalized-fang-fa">Q： 什么时候会调用对象的finalized方法</span><a href="#q-shi-me-shi-hou-hui-diao-yong-dui-xiang-de-finalized-fang-fa" class="header-anchor">#</a></h2>
<p>A： JVM启动垃圾回收，且该对象要被回收时。</p>
<p>finalized应该更多是规范吧，很多规范里都要求我们不要自己实现finalized了，毕竟不确定性太大。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">jvm�ڴ�����ԭ��</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-29 14:55:44" itemprop="dateCreated datePublished" datetime="2022-05-29T14:55:44+08:00">2022-05-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-07 20:01:00" itemprop="dateModified" datetime="2023-01-07T20:01:00+08:00">2023-01-07</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="jvm�ڴ�����ԭ��" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>(1652355722943757845.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652355722943757845.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652355722943757845.png</a>]<br>
(1652799978355467461-1653808433418.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652799978355467461-1653808433418.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652799978355467461-1653808433418.png</a>]<br>
(1652799978355467461.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652799978355467461.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652799978355467461.png</a>]<br>
(1652800419071211329.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800419071211329.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800419071211329.png</a>]<br>
(1652800601102172178.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800601102172178.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800601102172178.png</a>]<br>
(1652800699980785954.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800699980785954.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800699980785954.png</a>]<br>
(1652800735895914907.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800735895914907.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800735895914907.png</a>]<br>
(1652800897811439190.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800897811439190.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800897811439190.png</a>]<br>
(1652800987016832820.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1652800987016832820.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1652800987016832820.png</a>]<br>
(1653813729000.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1653813729000.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1653813729000.png</a>]<br>
(1653813761145.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1653813761145.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1653813761145.png</a>]<br>
(1653814723600.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD/1653814723600.png">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��/1653814723600.png</a>]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">jvm内存区域原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-29 14:53:55" itemprop="dateCreated datePublished" datetime="2022-05-29T14:53:55+08:00">2022-05-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-10 00:50:59" itemprop="dateModified" datetime="2022-08-10T00:50:59+08:00">2022-08-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">java高级原理</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%8E%9F%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">jvm原理</span></a>
                </span>
            </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="jvm内存区域原理" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>6.2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>重读了一遍《深入理解java虚拟机》， 发现第一遍读“运行时数据区”相关内容的时候，只关注了最简单的概念部分，对于其中的细节部分没有深入探究，觉得那些东西太底层了，没啥用。<br>
其实他们背后的原理，和我们平时运行进程时的各种报错息息相关。<br>
另外如果能理解运行时数据区，也能够对“代码究竟是如何运行的”有更深的理解。</p>
<p><strong>看来经典书籍要多读多总结，是有道理的。</strong><br>
于是在阅读这个章节时，针对每个结构，思考了非常多的问题，提出了很多QA，方便进行深度的思考和学习。</p>
 <div class="toc">
<!-- toc -->
<ul>
<li><a href="#jvm-quan-ju-jie-gou">jvm全局结构</a></li>
<li><a href="#java-dui">java堆</a>
<ul>
<li><a href="#q-dui-shi-xian-cheng-zhi-jian-gong-yong-de-dan-zhe-yang-hui-dao-zhi-pin-fan-fa-sheng-chong-tu-shi-fou-yao-kao-lu-bing-fa-wen-ti-zen-me-ban">Q: 堆是线程之间共用的，但这样会导致频繁发生冲突，是否要考虑并发问题？怎么办？</a></li>
<li><a href="#q-dan-shi-ru-guo-qia-qiao-duo-ge-xian-cheng-zai-shi-tu-jing-zheng-tong-yi-ge-tlab-yu-liu-kong-jian-shi-ji-du-zai-shi-tu-kuo-rong-fa-sheng-chong-tu-zen-me-ban">Q: 但是如果恰巧多个线程在试图竞争同一个TLAB预留空间时（即都在试图扩容），发生冲突怎么办？</a></li>
<li><a href="#q-fen-pei-de-shi-hou-zai-tlab-qu-yu-li-zen-me-zhi-dao-fang-zai-na-ge-wei-zhi-ni">Q: 分配的时候，在TLAB区域里，怎么知道放在哪个位置呢？</a></li>
</ul>
</li>
<li><a href="#cheng-xu-ji-shu-qi">程序计数器</a>
<ul>
<li><a href="#q-pc-ji-shu-qi-shi-zheng-ge-jvm-gong-you-de-ma">Q:PC计数器是整个jvm共有的吗？</a></li>
<li><a href="#q-pc-ji-shu-qi-you-sha-yong-na-ru-guo-mei-you-pc-ji-cun-qi-ni-wo-bu-shi-ye-neng-yi-tiao-tiao-zhi-xing-yu-dao-return-zhi-ling-fan-hui-dui-ying-di-zhi-ji-ke-xu-yao-pc-ji-cun-qi-zuo-sha">Q:PC计数器有啥用？ 那如果没有PC寄存器呢？ 我不是也能一条条执行，遇到return指令，返回对应地址即可，需要PC寄存器做啥？</a></li>
<li><a href="#q-wei-shi-me-native-fang-fa-de-cheng-xu-ji-shu-qi-wei-0-undefine-ru-guo-fa-sheng-xian-cheng-qie-huan-zen-me-ban">Q:为什么native方法的程序计数器为0（undefine）？如果发生线程切换，怎么办？</a></li>
<li><a href="#q-pc-ji-shu-qi-li-cun-de-dao-di-shi-sha-shi-zhi-ling-di-zhi-ma">Q: PC计数器里存的到底是啥？是指令地址吗？</a></li>
<li><a href="#q-na-me-zen-me-zhi-dao-shi-ji-de-zi-jie-ma-wei-zhi">Q: 那么怎么知道实际的字节码位置？</a></li>
</ul>
</li>
<li><a href="#xu-ni-ji-zhan-qu-yu">虚拟机栈区域</a>
<ul>
<li><a href="#xian-cheng-zhan-zheng">线程栈帧</a>
<ul>
<li><a href="#q-shi-me-shi-zhan-zheng">Q： 什么是栈帧？</a></li>
<li><a href="#q-zhan-zheng-li-bao-han-shi-me">Q： 栈帧里包含什么？</a></li>
<li><a href="#q-zhan-zheng-de-da-xiao-shi-me-shi-hou-que-ding">Q: 栈帧的大小什么时候确定？</a></li>
</ul>
</li>
<li><a href="#cao-zuo-shu-zhan">操作数栈</a>
<ul>
<li><a href="#q-shi-me-shi-cao-zuo-shu-zhan">Q： 什么是操作数栈</a></li>
<li><a href="#q-wei-shi-me-yi-ding-yao-you-cao-zuo-shu-zhan">Q: 为什么一定要有操作数栈？</a></li>
</ul>
</li>
<li><a href="#ju-bu-bian-liang-biao">局部变量表</a>
<ul>
<li><a href="#q-shi-me-shi-ju-bu-bian-liang-biao">Q: 什么是局部变量表？</a></li>
<li><a href="#q-ju-bu-bian-liang-de-cao-you-shi-shi-me">Q: 局部变量的槽又是什么？</a></li>
<li><a href="#q-ju-bu-bian-liang-biao-li-de-returnaddress-he-zhan-zheng-li-de-fan-hui-di-zhi-returnaddress-you-sha-qu-bie">Q: 局部变量表里的returnAddress和栈帧里的返回地址returnAddress有啥区别？</a></li>
<li><a href="#q-ju-bu-bian-liang-biao-de-slot-ke-yi-bei-fu-gai-ma-zhe-ge-she-ji-you-shi-me-hao-chu">Q: 局部变量表的slot可以被覆盖吗？这个设计有什么好处</a></li>
<li><a href="#q-she-zhi-null-zhi-jiu-yi-ding-hui-fu-gai-slot-ma">Q: 设置null值，就一定会覆盖slot吗？</a></li>
<li><a href="#q-wei-shi-me-java-zhong-ju-bu-bian-liang-mei-you-mo-ren-chu-shi">Q:为什么java中局部变量没有默认初始？</a></li>
<li><a href="#q-zhan-zheng-zhi-jian-ke-neng-cun-zai-gong-xiang-bian-liang-biao-de-qing-kuang-ma">Q: 栈帧之间可能存在共享变量表的情况吗？</a></li>
</ul>
</li>
<li><a href="#dong-tai-lian-jie">动态链接</a>
<ul>
<li><a href="#q-zhan-zheng-li-de-dong-tai-lian-jie-you-shi-sha">Q : 栈帧里的动态链接又是啥？</a></li>
</ul>
</li>
<li><a href="#fan-hui-di-zhi">返回地址</a>
<ul>
<li><a href="#q-ji-ran-you-pc-ji-cun-qi-zhan-zheng-li-de-fan-hui-di-zhi-de-zuo-yong-shi-shi-me">Q: 既然有PC寄存器，栈帧里的返回地址的作用是什么？</a></li>
<li><a href="#q-zhan-zheng-zhong-de-fang-fa-tui-chu-shi-hui-hong-fa-na-xie-dong-zuo">Q: 栈帧中的方法退出时，会触发哪些动作？</a></li>
<li><a href="#q-zhan-zheng-chu-liao-shang-mian-ti-dao-de-ji-ge-huan-you-qi-ta-de-xin-xi-ma">Q: 栈帧除了上面提到的几个，还有其他的信息吗？</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#fang-fa-qu">方法区</a>
<ul>
<li><a href="#q-fang-fa-qu-li-cun-de-shi-class-zi-jie-ma-ma">Q: 方法区里存的是class字节码吗？</a></li>
<li><a href="#q-yuan-kong-jian-yu-yong-jiu-dai-dao-di-shi-zen-me-hui-shi">Q: 元空间与永久代到底是怎么回事？</a></li>
<li><a href="#q-wei-shi-me-yao-ti-huan-yong-jiu-dai">Q: 为什么要替换永久代</a></li>
</ul>
</li>
<li><a href="#zui-hou-de-gan-xiang">最后的感想</a></li>
</ul>
<!-- tocstop -->
</div> 
<p>[toc]</p>
<hr>
<h1><span id="jvm-quan-ju-jie-gou">jvm全局结构</span><a href="#jvm-quan-ju-jie-gou" class="header-anchor">#</a></h1>
<p>首先是一张经典的jvm运行时内存区域划分的图，我自己画了一张：</p>
<p><img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1653815416671.png" alt="1653815416671"></p>
<hr>
<p>Q: 存在多个线程时，刚才提到的5个区域是怎么分布的？<br>
A:<br>
每个线程，都有自己独立的虚拟机栈、独立的程序计数器PC。</p>
<p>而方法区和堆是线程们共用的。</p>
<hr>
<h1><span id="java-dui">java堆</span><a href="#java-dui" class="header-anchor">#</a></h1>
<p>java堆的内容比较多，这里不探究对象分配的原理，后面会补充新的文章。这里只讨论堆的一些其他细节问题。</p>
<hr>
<h2><span id="q-dui-shi-xian-cheng-zhi-jian-gong-yong-de-dan-zhe-yang-hui-dao-zhi-pin-fan-fa-sheng-chong-tu-shi-fou-yao-kao-lu-bing-fa-wen-ti-zen-me-ban">Q: 堆是线程之间共用的，但这样会导致频繁发生冲突，是否要考虑并发问题？怎么办？</span><a href="#q-dui-shi-xian-cheng-zhi-jian-gong-yong-de-dan-zhe-yang-hui-dao-zhi-pin-fan-fa-sheng-chong-tu-shi-fou-yao-kao-lu-bing-fa-wen-ti-zen-me-ban" class="header-anchor">#</a></h2>
<p>A:<br>
线程分配堆空间时，会先根据TLAB进行独立分配。</p>
<blockquote>
<blockquote>
<p>TLAB ——Thread Local Allocation Buffer， 中文名为线程本地分配缓冲区。<br>
启用了 TLAB 之后(-XX:+UseTLAB, 默认是开启的)，JVM 会针对每一个线程在 Java 堆中预留一个内存区域。<br>
一旦某个区域确定划分给某个线程，之后<strong>该线程需要分配内存的时候，会优先在这片区域中申请</strong>。这个区域针对分配内存这个动作而言是该线程私有的，因此在分配的时候不用进行加锁等保护性的操作</p>
</blockquote>
</blockquote>
<hr>
<h2><span id="q-dan-shi-ru-guo-qia-qiao-duo-ge-xian-cheng-zai-shi-tu-jing-zheng-tong-yi-ge-tlab-yu-liu-kong-jian-shi-ji-du-zai-shi-tu-kuo-rong-fa-sheng-chong-tu-zen-me-ban">Q: 但是如果恰巧多个线程在试图竞争同一个TLAB预留空间时（即都在试图扩容），发生冲突怎么办？</span><a href="#q-dan-shi-ru-guo-qia-qiao-duo-ge-xian-cheng-zai-shi-tu-jing-zheng-tong-yi-ge-tlab-yu-liu-kong-jian-shi-ji-du-zai-shi-tu-kuo-rong-fa-sheng-chong-tu-zen-me-ban" class="header-anchor">#</a></h2>
<p>A:<br>
在预留这个动作发生的时候，需要进行加锁或者采用** CAS（compareAndSet) **等操作进行保护，避免多个线程预留同一个区域</p>
<hr>
<h2><span id="q-fen-pei-de-shi-hou-zai-tlab-qu-yu-li-zen-me-zhi-dao-fang-zai-na-ge-wei-zhi-ni">Q: 分配的时候，在TLAB区域里，怎么知道放在哪个位置呢？</span><a href="#q-fen-pei-de-shi-hou-zai-tlab-qu-yu-li-zen-me-zhi-dao-fang-zai-na-ge-wei-zhi-ni" class="header-anchor">#</a></h2>
<p>A:<br>
具体的分配内存有两种情况（和垃圾回收机制有关）</p>
<ol>
<li>第一种情况是内存空间绝对规整。（对应使用回收-整理/复制算法的垃圾回收区）</li>
<li>第二种情况是内存空间是不连续的。（对应使用回收-清除算法的垃圾回收区）</li>
</ol>
<p>对于内存绝对规整的情况相对简单一些，虚拟机只需要在被占用的内存和可用空间之间移动指针即可，这种方式被称为指针碰撞。</p>
<p>对于内存不规整的情况稍微复杂一点，这时候虚拟机需要维护一个列表，来记录哪些内存是可用的。分配内存的时候需要找到一个可用的内存空间，然后在列表上记录下已被分配，这种方式成为空闲列表。</p>
<h1><span id="cheng-xu-ji-shu-qi">程序计数器</span><a href="#cheng-xu-ji-shu-qi" class="header-anchor">#</a></h1>
<h2><span id="q-pc-ji-shu-qi-shi-zheng-ge-jvm-gong-you-de-ma">Q:PC计数器是整个jvm共有的吗？</span><a href="#q-pc-ji-shu-qi-shi-zheng-ge-jvm-gong-you-de-ma" class="header-anchor">#</a></h2>
<p>A:<br>
不是的，是每个线程各自有一个， 而且是java自己定义的线程PC， 和CPU里的PC寄存器不同。</p>
<hr>
<h2><span id="q-pc-ji-shu-qi-you-sha-yong-na-ru-guo-mei-you-pc-ji-cun-qi-ni-wo-bu-shi-ye-neng-yi-tiao-tiao-zhi-xing-yu-dao-return-zhi-ling-fan-hui-dui-ying-di-zhi-ji-ke-xu-yao-pc-ji-cun-qi-zuo-sha">Q:PC计数器有啥用？ 那如果没有PC寄存器呢？ 我不是也能一条条执行，遇到return指令，返回对应地址即可，需要PC寄存器做啥？</span><a href="#q-pc-ji-shu-qi-you-sha-yong-na-ru-guo-mei-you-pc-ji-cun-qi-ni-wo-bu-shi-ye-neng-yi-tiao-tiao-zhi-xing-yu-dao-return-zhi-ling-fan-hui-dui-ying-di-zhi-ji-ke-xu-yao-pc-ji-cun-qi-zuo-sha" class="header-anchor">#</a></h2>
<p>A: PC寄存器的作用在于多线程切换的时候，能找到每个线程执行的位置，所以它是线程私有的一个寄存器，知道当前运行到哪了。如果没有，一旦随机切换就不知道咋办了。你总需要一个地方存储这个线程当前执行情况，但又要保持独立性，所以不可能存到其他线程的空间里。</p>
<hr>
<h2><span id="q-wei-shi-me-native-fang-fa-de-cheng-xu-ji-shu-qi-wei-0-undefine-ru-guo-fa-sheng-xian-cheng-qie-huan-zen-me-ban">Q:为什么native方法的程序计数器为0（undefine）？如果发生线程切换，怎么办？</span><a href="#q-wei-shi-me-native-fang-fa-de-cheng-xu-ji-shu-qi-wei-0-undefine-ru-guo-fa-sheng-xian-cheng-qie-huan-zen-me-ban" class="header-anchor">#</a></h2>
<p>A:<br>
注意，jvm内存结构里的PC计数器是jvm自己定义的“字节码指令”执行寄存器。<br>
对于native方法，并不在字节码的范围，不指向方法区里的任何指令位置。</p>
<p>因此native方法其实不是由jvm管理的，如果线程切换，他执行到哪边，取决于OS的底层机器码计数器实现。</p>
<blockquote>
<blockquote>
<p>以HotSpot VM的实现为例，它目前在大多数平台上都使用1:1模型，也就是每个Java线程都直接映射到一个OS线程上执行。此时，native方法就由原生平台直接执行，并不需要理会抽象的JVM层面上的“pc寄存器”概念——原生的CPU上真正的PC寄存器是怎样就是怎样。就像一个用C或C++写的多线程程序，它在线程切换的时候是怎样的，Java的native方法也就是怎样的。</p>
</blockquote>
</blockquote>
<hr>
<h2><span id="q-pc-ji-shu-qi-li-cun-de-dao-di-shi-sha-shi-zhi-ling-di-zhi-ma">Q: PC计数器里存的到底是啥？是指令地址吗？</span><a href="#q-pc-ji-shu-qi-li-cun-de-dao-di-shi-sha-shi-zhi-ling-di-zhi-ma" class="header-anchor">#</a></h2>
<p>A:<br>
错误！ 存的不是地址，而是这个方法的字节码偏移。例如0、1、5、6这种。<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800419071211329.png" alt="image.png"></p>
<hr>
<h2><span id="q-na-me-zen-me-zhi-dao-shi-ji-de-zi-jie-ma-wei-zhi">Q: 那么怎么知道实际的字节码位置？</span><a href="#q-na-me-zen-me-zhi-dao-shi-ji-de-zi-jie-ma-wei-zhi" class="header-anchor">#</a></h2>
<p>A: 这个就要结合下文提到的栈帧中的动态链接，来联合计算实际字节码位置了。</p>
<h1><span id="xu-ni-ji-zhan-qu-yu">虚拟机栈区域</span><a href="#xu-ni-ji-zhan-qu-yu" class="header-anchor">#</a></h1>
<hr>
<h2><span id="xian-cheng-zhan-zheng">线程栈帧</span><a href="#xian-cheng-zhan-zheng" class="header-anchor">#</a></h2>
<h3><span id="q-shi-me-shi-zhan-zheng">Q： 什么是栈帧？</span><a href="#q-shi-me-shi-zhan-zheng" class="header-anchor">#</a></h3>
<p>A： 每个线程有一个自己的栈帧，然后运行到每个方法时，每个方法中都会可以理解为是摄影里的一帧。<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800601102172178.png" alt="image.png"></p>
<hr>
<h3><span id="q-zhan-zheng-li-bao-han-shi-me">Q： 栈帧里包含什么？</span><a href="#q-zhan-zheng-li-bao-han-shi-me" class="header-anchor">#</a></h3>
<p>A：</p>
<ul>
<li>局部变量表</li>
<li>操作数栈</li>
<li>动态链接</li>
<li>方法返回地址</li>
</ul>
<p>其实与上面这4样配合的，还有个上文提到的“程序计数器”，才共同实现了jvm指令的执行。</p>
<hr>
<h3><span id="q-zhan-zheng-de-da-xiao-shi-me-shi-hou-que-ding">Q: 栈帧的大小什么时候确定？</span><a href="#q-zhan-zheng-de-da-xiao-shi-me-shi-hou-que-ding" class="header-anchor">#</a></h3>
<p>A：<br>
在编译程序代码的时候.<br>
注意， 图例提到的栈大小，并不是指线程堆栈的最大深度，<br>
而是指“操作数栈”的最大深度。（注意这个深度存在类文件字节码中对应方法的属性表中）<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800735895914907.png" alt="image.png"></p>
<p>即jvm能够通过分析代码中可能存在多少个变量以及计算空间，来确定局部变量表和最大操作数栈的一个深度。</p>
<h2><span id="cao-zuo-shu-zhan">操作数栈</span><a href="#cao-zuo-shu-zhan" class="header-anchor">#</a></h2>
<h3><span id="q-shi-me-shi-cao-zuo-shu-zhan">Q： 什么是操作数栈</span><a href="#q-shi-me-shi-cao-zuo-shu-zhan" class="header-anchor">#</a></h3>
<p>A：<br>
可以理解为jvm做计算时，需要一个临时的寄存器，把需要计算的数据或者传方法的参数放到栈中，然后做计算。<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800699980785954.png" alt="image.png"></p>
<hr>
<h3><span id="q-wei-shi-me-yi-ding-yao-you-cao-zuo-shu-zhan">Q: 为什么一定要有操作数栈？</span><a href="#q-wei-shi-me-yi-ding-yao-you-cao-zuo-shu-zhan" class="header-anchor">#</a></h3>
<p>如果要做a+b,我直接从变量表上取a的值和b的值，加起来不就好了？<br>
A:<br>
那我如果是 a + b<em>c呢，  这个b</em>c的值放哪里？<br>
如果是a+b*(c+d)呢？<br>
这时候如果你学习过数据结构里栈的应用 ，就会知道 模拟一个计算器，往往需要一个栈。<br>
而操作数栈就是这个作用。<br>
当你学习jvm指令时，就会看到有专门的指令就是取栈顶或者把值推送到栈顶的指令。<br>
这样做加法的时候，也就不用关心变量的地址了，只要你把栈顶的值存好，我直接拿去加就行。</p>
<hr>
<h2><span id="ju-bu-bian-liang-biao">局部变量表</span><a href="#ju-bu-bian-liang-biao" class="header-anchor">#</a></h2>
<h3><span id="q-shi-me-shi-ju-bu-bian-liang-biao">Q: 什么是局部变量表？</span><a href="#q-shi-me-shi-ju-bu-bian-liang-biao" class="header-anchor">#</a></h3>
<p>A：<br>
每个线程所在栈帧都会有一个自己的局部变量表，里面存储方法中使用到的局部变量。<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800897811439190.png" alt="image.png"></p>
<hr>
<h3><span id="q-ju-bu-bian-liang-de-cao-you-shi-shi-me">Q: 局部变量的槽又是什么？</span><a href="#q-ju-bu-bian-liang-de-cao-you-shi-shi-me" class="header-anchor">#</a></h3>
<p>A:</p>
<ul>
<li>returnAddress类型是为字节码指令jsr、jsr_w和ret服务的，它指向了一条字节码指令的地址。</li>
<li>局部变量表的容量以变量槽（Slot）为最小单位，32位虚拟机中一个Slot可以存放一个32位以内的数据类型（boolean、byte、char、short、int、float、reference和returnAddress八种）</li>
<li>slot的长度可以随着处理器、操作系统的不同而变化， 不是绝对的32位。<br>
jvm概念中说的是”slot一定能存放下1个boolean\byte\int\引用地址\返回地址returnAddress“等不包括long在内的内容。</li>
<li>如果要访问long，需要做2次局部变量slot的读取，读取n和n+1，不允许单独访问，如果有问题会在字节码校验中报错。</li>
</ul>
<hr>
<h3><span id="q-ju-bu-bian-liang-biao-li-de-returnaddress-he-zhan-zheng-li-de-fan-hui-di-zhi-returnaddress-you-sha-qu-bie">Q: 局部变量表里的returnAddress和栈帧里的返回地址returnAddress有啥区别？</span><a href="#q-ju-bu-bian-liang-biao-li-de-returnaddress-he-zhan-zheng-li-de-fan-hui-di-zhi-returnaddress-you-sha-qu-bie" class="header-anchor">#</a></h3>
<p>A:<br>
局部变量表里的的returnAddress，是老版本jvm用于处理异常跳转的（jsr\jsr_w\ret指令，新版本基本都用code里的异常表来代替），而栈帧里的返回地址，是返回到上一层栈帧的代码调用位置，更新PC计数器用的。</p>
<hr>
<h3><span id="q-ju-bu-bian-liang-biao-de-slot-ke-yi-bei-fu-gai-ma-zhe-ge-she-ji-you-shi-me-hao-chu">Q: 局部变量表的slot可以被覆盖吗？这个设计有什么好处</span><a href="#q-ju-bu-bian-liang-biao-de-slot-ke-yi-bei-fu-gai-ma-zhe-ge-she-ji-you-shi-me-hao-chu" class="header-anchor">#</a></h3>
<p>A:</p>
<ul>
<li>可以减少局部变量表的空间，通过分析每个局部变量的使用生命周期，在某变量不再被使用后，让其他变量可以覆盖这个槽的位置。</li>
<li>另一方面，覆盖的机制，可以将一些局部变量上已经不使用的大对象解除引用，例如对一些大的变量做=null的操作，那么可以尽早进行垃圾回收（因为栈帧的局部变量表里的每个slot都是一个gcRoot）</li>
</ul>
<hr>
<h3><span id="q-she-zhi-null-zhi-jiu-yi-ding-hui-fu-gai-slot-ma">Q: 设置null值，就一定会覆盖slot吗？</span><a href="#q-she-zhi-null-zhi-jiu-yi-ding-hui-fu-gai-slot-ma" class="header-anchor">#</a></h3>
<p>A:<br>
不一定，有时候JIT编译优化，可能会处理掉这个无用的=null的操作，且能正确处理slot中已经不被使用的变量。<br>
按照书里的说法，正好有大对象，然后还停留在局部变量表里的概率是比较低的。不建议那么做了</p>
<hr>
<h3><span id="q-wei-shi-me-java-zhong-ju-bu-bian-liang-mei-you-mo-ren-chu-shi">Q:为什么java中局部变量没有默认初始？</span><a href="#q-wei-shi-me-java-zhong-ju-bu-bian-liang-mei-you-mo-ren-chu-shi" class="header-anchor">#</a></h3>
<p>A:<br>
我的理解，局部变量在局部变量表中，而局部变量表是运行时生成的， 而非在堆上生成，因此不会有堆对象创建时的那个默认值赋值操作。 即jvm定义上， 就是局部变量没有初始化前的’准备‘这个阶段的，也就不存在默认赋值的指令行为。</p>
<p>如果硬要说为什么，如果每个局部变量都复制，肯定会影响执行效率，因此不如不赋值。，所以必须通过赋值指令在运行时给他赋值。（没找到很好的解释，有更好理解的可以帮忙回答一下，其实就是）</p>
<p>另外如果每个局部变量都有，那可能指令数量就会变多，因为你需要放入很多赋值指令？</p>
<p>阅读JMM内存模型时的另一个解释：</p>
<blockquote>
<blockquote>
<p>对于未同步或未正确同步的多线程程序，JMM只提供最小安全性.<br>
线程执行时读取到的值，要么是之前某个线程写入的值，要么是默认值（0，Null，False），JMM保证线程读操作读取到的值不会无中生有（Out Of Thin Air）的冒出来<br>
对于全局变量（类对象成员），必须有默认初始化，为了满足多线程环境下的最小安全性。<br>
但对于局部变量，不存在被多线程使用，因此一定后面可以拼接一个指令，所以不需要默认初始化的动作。</p>
</blockquote>
</blockquote>
<hr>
<h3><span id="q-zhan-zheng-zhi-jian-ke-neng-cun-zai-gong-xiang-bian-liang-biao-de-qing-kuang-ma">Q: 栈帧之间可能存在共享变量表的情况吗？</span><a href="#q-zhan-zheng-zhi-jian-ke-neng-cun-zai-gong-xiang-bian-liang-biao-de-qing-kuang-ma" class="header-anchor">#</a></h3>
<p>即执行多次方法，一个栈上有多个栈帧，每个栈帧都有各自的局部变量表和操作数栈，然后上下层之间共享</p>
<p>A:<br>
可能存在。即上下两个栈帧之间， 可能有操作数栈可以直接操作另一个栈帧局部变量的情况。这样可以避免额外的参数复制传递。<br>
什么时候触发？不清楚</p>
<hr>
<h2><span id="dong-tai-lian-jie">动态链接</span><a href="#dong-tai-lian-jie" class="header-anchor">#</a></h2>
<h3><span id="q-zhan-zheng-li-de-dong-tai-lian-jie-you-shi-sha">Q : 栈帧里的动态链接又是啥？</span><a href="#q-zhan-zheng-li-de-dong-tai-lian-jie-you-shi-sha" class="header-anchor">#</a></h3>
<p>A:<br>
首先明确一点， 每一个栈帧，不一定是”动态”链接，但一定会有一个指向常量池中方法的引用。</p>
<p>为什么栈帧里需要存这个指向方法的引用？</p>
<p>首先，当你进入一个方法，准备生成一个栈帧，放到线程上时，你需要知道你这个代码执行的是什么代码，才能进行后面的操作。</p>
<p>如果是构造方法、final方法，则会编译器进行静态链接。<br>
如果是虚方法，则会进行动态链接，运行期只是从类对象中，拿到了一个符号引用，</p>
<p>但是这个引用指向哪个方法？则通过下面的过程进行定位和寻找，把符号引用转成实际方法的直接引用。<br>
<img src="/images/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/1652800987016832820.png" alt="image.png"><br>
因此要提供一个引用，指向常量池里的方法。指向后，就能知道程序位置。<br>
然后<strong>字节码实际引用位置 + PC计数器偏移</strong>，就能知道当前线程执行到哪个方法的哪一步指令上了。</p>
<p>（关于动态链接这个名称的由来，是因为“动态分派”的存在，你这个方法位置是不确定的，和实际对象+方法名有关， 所以称为动态链接。）</p>
<hr>
<h2><span id="fan-hui-di-zhi">返回地址</span><a href="#fan-hui-di-zhi" class="header-anchor">#</a></h2>
<h3><span id="q-ji-ran-you-pc-ji-cun-qi-zhan-zheng-li-de-fan-hui-di-zhi-de-zuo-yong-shi-shi-me">Q: 既然有PC寄存器，栈帧里的返回地址的作用是什么？</span><a href="#q-ji-ran-you-pc-ji-cun-qi-zhan-zheng-li-de-fan-hui-di-zhi-de-zuo-yong-shi-shi-me" class="header-anchor">#</a></h3>
<p>A:<br>
方法A调用方法B的时候，PC寄存器会跟着移动到B方法去。当B执行完后，要能返回A继续执行，就需要A当时执行到的那条指令的地址。所以，在B的栈帧中保存A当时的指令地址（当时PC寄存器的值），当B执行完后，根据此返回地址跳回A。通过返回地址，从而知道当前线程的上一级应该从PC的第几行偏移开始。</p>
<p>另外除了正常通过ret指令退出，还可能是出现异常时，如果没有在异常表里被捕捉并处理，也会通过异常完成出口， 使用返回地址返回到上一层。</p>
<hr>
<h3><span id="q-zhan-zheng-zhong-de-fang-fa-tui-chu-shi-hui-hong-fa-na-xie-dong-zuo">Q: 栈帧中的方法退出时，会触发哪些动作？</span><a href="#q-zhan-zheng-zhong-de-fang-fa-tui-chu-shi-hui-hong-fa-na-xie-dong-zuo" class="header-anchor">#</a></h3>
<p>A:</p>
<ol>
<li>当前栈帧出栈</li>
<li>恢复上层方法的局部变量表和操作数栈</li>
<li>如果有返回值，把返回值压入操作数栈的栈顶（因为马上就要被调用了）</li>
<li>调整这个线程栈的PC计数器，改成returnAddress对应的那个指令位置地址，然后继续往下调用执行。</li>
</ol>
<hr>
<h3><span id="q-zhan-zheng-chu-liao-shang-mian-ti-dao-de-ji-ge-huan-you-qi-ta-de-xin-xi-ma">Q: 栈帧除了上面提到的几个，还有其他的信息吗？</span><a href="#q-zhan-zheng-chu-liao-shang-mian-ti-dao-de-ji-ge-huan-you-qi-ta-de-xin-xi-ma" class="header-anchor">#</a></h3>
<p>A:<br>
有些支持调试的虚拟机，可能会补充很多调试相关的信息。</p>
<h1><span id="fang-fa-qu">方法区</span><a href="#fang-fa-qu" class="header-anchor">#</a></h1>
<h2><span id="q-fang-fa-qu-li-cun-de-shi-class-zi-jie-ma-ma">Q: 方法区里存的是class字节码吗？</span><a href="#q-fang-fa-qu-li-cun-de-shi-class-zi-jie-ma-ma" class="header-anchor">#</a></h2>
<p>A:<br>
不是。经过类的加载、链接、初始化之后， class字节码对于进程来说就没用了。<br>
存了以下内容：</p>
<ul>
<li>每个类的类型信息：类名、父类类名、修饰符、接口</li>
<li>字段信息field（域信息）：字段名、字段类型、字段修饰符</li>
<li>方法信息，包括方法名、类型、参数、修饰符、字节码、一场表<br>
如下：</li>
<li>类的静态变量</li>
<li>常量池，存储常量<br>
注意，符号引用、类引用、实际类名等信息等都是放在常量池中的。</li>
</ul>
<hr>
<h2><span id="q-yuan-kong-jian-yu-yong-jiu-dai-dao-di-shi-zen-me-hui-shi">Q:  元空间与永久代到底是怎么回事？</span><a href="#q-yuan-kong-jian-yu-yong-jiu-dai-dao-di-shi-zen-me-hui-shi" class="header-anchor">#</a></h2>
<p>A:<br>
方法区和“PermGen space”又有着本质的区别。<br>
<strong>前者是 JVM 的规范，而后者则是 JVM 规范的一种实现</strong><br>
并且只有 HotSpot 才有 “PermGen space”，而对于其他类型的虚拟机，如 JRockit（Oracle）、J9（IBM） 并没有“PermGen space”。</p>
<p><strong>元空间与永久代之间最大的区别在于：元空间并不在虚拟机中，而是使用本地内存。因此，默认情况下，元空间的大小仅受本地内存限制，但可以通过以下参数来指定元空间的大小</strong><br>
-XX:MetaspaceSize和-XX:MaxMetaspaceSize</p>
<hr>
<h2><span id="q-wei-shi-me-yao-ti-huan-yong-jiu-dai">Q: 为什么要替换永久代</span><a href="#q-wei-shi-me-yao-ti-huan-yong-jiu-dai" class="header-anchor">#</a></h2>
<p>A:<br>
替换永久代的其他原因：</p>
<ol>
<li>字符串存在永久代中，容易出现性能问题和内存溢出。</li>
<li>类及方法的信息等比较难确定其大小，因此对于永久代的大小指定比较困难，太小容易出现永久代溢出，太大则容易导致老年代溢出。</li>
<li>永久代会为 GC 带来不必要的复杂度，并且回收效率偏低。</li>
</ol>
<hr>
<h1><span id="zui-hou-de-gan-xiang">最后的感想</span><a href="#zui-hou-de-gan-xiang" class="header-anchor">#</a></h1>
<p>好累，终于写完了，感觉能看到最后的人不会太多，但一通详细地分析和解决中间发现的问题，还是收获了不少。</p>
<p>关于jvm运行时数据区，最重要的不是去死记硬背，而是试图在脑中构建一个指令运行的逻辑流程。</p>
<p>且对于很多没有学习过计算机底层原理（例如CSAPP这本书） 的人来说， 是很难接触到计算机是如何执行机器码指令的。<br>
而java虚拟机栈可以更好理解 指令是如何运行的（虽然这不是机器码，而是jvm字节码）。<br>
但是通过运行时数据区的各种行为和概念， 我们可以快速对应到java中常见的各种操作。<br>
这对于很多入门时直奔删减改查的同学来说， 是不可多得的学习底层的机会。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/" class="post-title-link" itemprop="url">images</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-15 10:18:41" itemprop="dateCreated datePublished" datetime="2022-05-15T10:18:41+08:00">2022-05-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-07 20:01:00" itemprop="dateModified" datetime="2023-01-07T20:01:00+08:00">2023-01-07</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/" class="post-meta-item leancloud_visitors" data-flag-title="images" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>146</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>(java-class-file)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file">http://localhost:4000///֪ʶ��/java/images/java-class-file</a>]<br>
(jvm�ڴ�����ԭ��)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/jvm%EF%BF%BD%DA%B4%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%D4%AD%EF%BF%BD%EF%BF%BD">http://localhost:4000///֪ʶ��/java/images/jvm�ڴ�����ԭ��</a>]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/java-class-file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/java-class-file/" class="post-title-link" itemprop="url">java-class-file</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-15 10:18:41" itemprop="dateCreated datePublished" datetime="2022-05-15T10:18:41+08:00">2022-05-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-07 20:01:00" itemprop="dateModified" datetime="2023-01-07T20:01:00+08:00">2023-01-07</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/java-class-file/" class="post-meta-item leancloud_visitors" data-flag-title="java-class-file" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/java-class-file/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/images/java-class-file/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>(1652269180508772459.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652269180508772459.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652269180508772459.png</a>]<br>
(1652269423338180081.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652269423338180081.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652269423338180081.png</a>]<br>
(1652271151313964089.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652271151313964089.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652271151313964089.png</a>]<br>
(1652271891308501334.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652271891308501334.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652271891308501334.png</a>]<br>
(1652272385081190034.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652272385081190034.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652272385081190034.png</a>]<br>
(1652275768314487190.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652275768314487190.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652275768314487190.png</a>]<br>
(1652317738015425066.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652317738015425066.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652317738015425066.png</a>]<br>
(1652355722943757845.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652355722943757845.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652355722943757845.png</a>]<br>
(1652355928364525434.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652355928364525434.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652355928364525434.png</a>]<br>
(1652395329500135926.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652395329500135926.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652395329500135926.png</a>]<br>
(1652395457163163025.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652395457163163025.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652395457163163025.png</a>]<br>
(1652395539642165989.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652395539642165989.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652395539642165989.png</a>]<br>
(1652396223751707461.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652396223751707461.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652396223751707461.png</a>]<br>
(1652396601906806136.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652396601906806136.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652396601906806136.png</a>]<br>
(1652397315515649848.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652397315515649848.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652397315515649848.png</a>]<br>
(1652397689648709059.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652397689648709059.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652397689648709059.png</a>]<br>
(1652397966852235844.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652397966852235844.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652397966852235844.png</a>]<br>
(1652398026144920939.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652398026144920939.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652398026144920939.png</a>]<br>
(1652398314647685943.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652398314647685943.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652398314647685943.png</a>]<br>
(1652398431353725133.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652398431353725133.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652398431353725133.png</a>]<br>
(1652398713702736921.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652398713702736921.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652398713702736921.png</a>]<br>
(1652399133483878712.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/1652399133483878712.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/1652399133483878712.png</a>]<br>
(5d1a2d97e4b0f7ca49d84a3a.png)[<a target="_blank" rel="noopener" href="http://localhost:4000///%D6%AA%CA%B6%EF%BF%BD%EF%BF%BD/java/images/java-class-file/5d1a2d97e4b0f7ca49d84a3a.png">http://localhost:4000///֪ʶ��/java/images/java-class-file/5d1a2d97e4b0f7ca49d84a3a.png</a>]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/%E5%A4%B1%E7%9C%A0%E7%96%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/%E5%A4%B1%E7%9C%A0%E7%96%97%E6%B3%95/" class="post-title-link" itemprop="url">解决失眠的科学疗法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-06 23:08:31" itemprop="dateCreated datePublished" datetime="2022-05-06T23:08:31+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-08-10 00:54:37" itemprop="dateModified" datetime="2022-08-10T00:54:37+08:00">2022-08-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">心理</span></a>
                </span>
            </span>

          
            <span id="/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/%E5%A4%B1%E7%9C%A0%E7%96%97%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="解决失眠的科学疗法" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/%E5%A4%B1%E7%9C%A0%E7%96%97%E6%B3%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E9%9A%8F%E7%AC%94/%E5%BF%83%E7%90%86/%E5%A4%B1%E7%9C%A0%E7%96%97%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>455</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1><span id="shui-mian-xian-zhi-fa">睡眠限制法</span><a href="#shui-mian-xian-zhi-fa" class="header-anchor">#</a></h1>
<ul>
<li>
<p>首要目标： 增加睡眠时间/卧床时间的占比，建立床=睡眠的潜意识。</p>
</li>
<li>
<p>主要方式： 在无法显著增加睡眠时间的情况下，减少卧床时间。</p>
</li>
<li>
<p>具体措施：</p>
<ol>
<li>根据之前往期的入睡统计，安排严格的上床和入睡。例如晚上12点睡，早上6点30起。</li>
<li>困了就上床，上床后不要玩手机，避免增加无效卧床时间。</li>
<li>如果在床上不困，就立刻起床，避免增加无效的卧床时间。</li>
<li>减少午睡甚至不午睡，将困意集中到晚上的时间。</li>
</ol>
</li>
</ul>
<h1><span id="ru-shui-fen-wei-de-gou-jian">入睡氛围的构建</span><a href="#ru-shui-fen-wei-de-gou-jian" class="header-anchor">#</a></h1>
<ol>
<li>睡前不要做需要耗费脑子导致精神集中无法放松的事情， 例如做算法题、高强度学习等。</li>
<li>提前1h洗澡、洗头，避免上床前才洗。</li>
<li>手机的新闻、游戏日常任务尽量白天能刷就刷，睡前告诉自己都已经刷过了，不需要再刷了。（可以将自己需要刷的东西列一个清单，睡前看一下自己是不是白天都刷过了）</li>
</ol>
<h1><span id="ru-he-chu-li-shui-mian-shi-de-jiao-lu">如何处理睡眠时的焦虑</span><a href="#ru-he-chu-li-shui-mian-shi-de-jiao-lu" class="header-anchor">#</a></h1>
<ol>
<li>睡少了 并不等于 第二天会完蛋。大部分人不会从事过于高精密的工作。</li>
<li>如果有睡眠外的焦虑， 尝试在睡前安排一定的”焦虑时间“，让自己充分将焦虑的想法念出来或者写出来，这样上床后如果还焦虑，可以告诉自己”刚才都已经焦虑过了，也写出来了，现在想也就没意义了“</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/" class="post-title-link" itemprop="url">知识库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-06 22:57:14" itemprop="dateCreated datePublished" datetime="2022-05-06T22:57:14+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-02-27 23:31:54" itemprop="dateModified" datetime="2024-02-27T23:31:54+08:00">2024-02-27</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/" class="post-meta-item leancloud_visitors" data-flag-title="知识库" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>31</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/" title="java">java</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/python/" title="python">python</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/" title="人工智能">人工智能</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91%E5%BA%94%E7%94%A8/" title="后台开发应用">后台开发应用</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/%E5%BC%80%E6%BA%90%E7%BB%84%E4%BB%B6%E5%8E%9F%E7%90%86/" title="开源组件原理">开源组件原理</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" title="计算机基础">计算机基础</a><br>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/" class="post-title-link" itemprop="url">java-high</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-06 22:56:52" itemprop="dateCreated datePublished" datetime="2022-05-06T22:56:52+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-07 20:08:13" itemprop="dateModified" datetime="2023-01-07T20:08:13+08:00">2023-01-07</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/" class="post-meta-item leancloud_visitors" data-flag-title="java-high" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>189</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/AQS%E5%92%8CJUC%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86">AQS和JUC核心原理</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/java-class%E7%B1%BB%E6%96%87%E4%BB%B6%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3">java-class类文件原理详解</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/java-object-in-heap">java-object-in-heap</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/java%E5%B8%B8%E8%A7%81%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%90%86%EF%BC%88Map-List%E7%AD%89%EF%BC%89">java常见容器使用原理（Map-List等）</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%85%A8%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3">java类加载全过程详解</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90">Java线程池高级应用和原理分析</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/java%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%92%8C%E8%AF%AD%E6%B3%95%E7%B3%96">java编译优化和语法糖</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90">jdk动态代理原理解析</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86">jvm内存区域原理</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3">jvm垃圾收集器演进和原理详解</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/synchronized%E5%85%B3%E9%94%AE%E5%AD%97%E5%8E%9F%E7%90%86%E8%B6%85%E7%BA%A7%E8%AF%A6%E8%A7%A3">synchronized关键字原理超级详解</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-high/volatile%E5%92%8CCPU-MESI%E5%8D%8F%E8%AE%AE%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86">volatile和CPU-MESI协议底层原理</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">java高级原理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-06 22:56:52" itemprop="dateCreated datePublished" datetime="2022-05-06T22:56:52+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-02-27 23:31:54" itemprop="dateModified" datetime="2024-02-27T23:31:54+08:00">2024-02-27</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="java高级原理" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>182</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/AQS%E5%92%8CJUC%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/" title="AQS和JUC核心原理">AQS和JUC核心原理</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/java-class%E7%B1%BB%E6%96%87%E4%BB%B6%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" title="java-class类文件原理详解">java-class类文件原理详解</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/java-object-in-heap/" title="java堆中分配对象的原理">java堆中分配对象的原理</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/java%E5%B8%B8%E8%A7%81%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%90%86%EF%BC%88Map-List%E7%AD%89%EF%BC%89/" title="java常见容器使用原理（Map\List等)">java常见容器使用原理（Map\List等)</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/java%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%85%A8%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3/" title="java类加载全过程详解">java类加载全过程详解</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/" title="Java线程高级应用和原理分析">Java线程高级应用和原理分析</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/java%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%E5%92%8C%E8%AF%AD%E6%B3%95%E7%B3%96/" title="java编译优化和语法糖">java编译优化和语法糖</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/" title="jdk动态代理原理解析">jdk动态代理原理解析</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E5%8E%9F%E7%90%86/" title="jvm内存区域原理">jvm内存区域原理</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/jvm%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E6%BC%94%E8%BF%9B%E5%92%8C%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" title="jvm垃圾收集器演进和原理详解">jvm垃圾收集器演进和原理详解</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/synchronized%E5%85%B3%E9%94%AE%E5%AD%97%E5%8E%9F%E7%90%86%E8%B6%85%E7%BA%A7%E8%AF%A6%E8%A7%A3/" title="synchronized关键字原理超级详解">synchronized关键字原理超级详解</a><br>
<a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java%E9%AB%98%E7%BA%A7%E5%8E%9F%E7%90%86/volatile%E5%92%8CCPU-MESI%E5%8D%8F%E8%AE%AE%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/" title="volatile和CPU-MESI协议底层原理">volatile和CPU-MESI协议底层原理</a><br>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://breakdawncoder.com/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/abd.png">
      <meta itemprop="name" content="breakDawn">
      <meta itemprop="description" content="君子终日乾乾,夕惕若厉,无咎">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="破晓的知识屋">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/" class="post-title-link" itemprop="url">java-base</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">

              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-06 22:56:47" itemprop="dateCreated datePublished" datetime="2022-05-06T22:56:47+08:00">2022-05-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-01-07 20:08:13" itemprop="dateModified" datetime="2023-01-07T20:08:13+08:00">2023-01-07</time>
              </span>

          
            <span id="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/" class="post-meta-item leancloud_visitors" data-flag-title="java-base" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>182</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/Java-IO%E5%9F%BA%E7%A1%80">Java-IO基础</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java-JDBC-API">java-JDBC-API</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java-JNI%E5%BA%94%E7%94%A8">java-JNI应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java-JVM%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0">java-JVM常用参数</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java-NIO%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8">java-NIO高级应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java-Socket%E5%BA%94%E7%94%A8">java-Socket应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/Java%E5%8F%8D%E5%B0%84">Java反射</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">java基础数据类型</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80">Java多线程基础</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86%E5%99%A8%E5%BA%94%E7%94%A8">java安全管理器应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E5%AE%B9%E5%99%A8%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E5%92%8C%E5%BA%94%E7%94%A8">java容器基础概念和应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6">java异常机制</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E6%96%B0%E7%89%88%E6%9C%AC%E7%89%B9%E6%80%A7">java新版本特性</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E6%B3%9B%E5%9E%8B">java泛型</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/java%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5">java流程控制语句</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/JDK%E5%9F%BA%E7%A1%80%E5%B7%A5%E5%85%B7%E5%BA%94%E7%94%A8">JDK基础工具应用</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/%E7%B1%BB%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%BA%E5%BA%8F%E5%92%8C%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5">类初始化顺序和类加载基础概念</a><br>
<a target="_blank" rel="noopener" href="http://localhost:4000///%E7%9F%A5%E8%AF%86%E5%BA%93/java/java-base/%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">类和接口基本概念</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/27/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/29/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="breakDawn"
      src="/images/abd.png">
  <p class="site-author-name" itemprop="name">breakDawn</p>
  <div class="site-description" itemprop="description">君子终日乾乾,夕惕若厉,无咎</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">287</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="mailto:799581229@@qq.com" title="E-Mail → mailto:799581229@@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="/15990050657" title="WeChat → 15990050657"><i class="fa fa-weixin fa-fw"></i>WeChat</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/10007940" title="bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;10007940" rel="noopener" target="_blank"><i class="custom bilibili fa-fw"></i>bilibili</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2022-05 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">breakDawn</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共364.8k字</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//code.jquery.com/jquery-2.0.3.min.js"></script>
  <script src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://breakdawncoder.com/page/28/',]
      });
      });
  </script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'vANR4mLN0FDjQuhKexHroAe0-gzGzoHsz',
      appKey     : 'f23UP4XaRBeNlbo8CW07s3Dh',
      placeholder: "欢迎来访！",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zn-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : 'https://vanr4mln.lc-cn-n1-shared.com'
    });
  }, window.Valine);
});
</script>

</body>
</html>
